{"remainingRequest":"/home/nmagnani/proyectos/cartoon-front/node_modules/babel-loader/lib/index.js!/home/nmagnani/proyectos/cartoon-front/node_modules/eslint-loader/index.js??ref--13-0!/home/nmagnani/proyectos/cartoon-front/src/services/Api.js","dependencies":[{"path":"/home/nmagnani/proyectos/cartoon-front/src/services/Api.js","mtime":1678461125899},{"path":"/home/nmagnani/proyectos/cartoon-front/babel.config.js","mtime":1678461125023},{"path":"/home/nmagnani/proyectos/cartoon-front/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nmagnani/proyectos/cartoon-front/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/nmagnani/proyectos/cartoon-front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCAoKCkgPT4gewogIC8vY29uc29sZS5sb2cocHJvY2Vzcy5lbnYpOwoKICBsZXQgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMLAogICAgaGVhZGVyczoge30KICB9KTsKICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHsKICAgIHJldHVybiByZXNwb25zZTsKICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGxldCBvcmlnaW5hbFJlcXVlc3QgPSBlcnJvci5jb25maWc7CiAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEgfHwgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDMgJiYgIW9yaWdpbmFsUmVxdWVzdC5fcmV0cnkpIHsKICAgICAgb3JpZ2luYWxSZXF1ZXN0Ll9yZXRyeSA9IHRydWU7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJzdG9yZVVzZXIvTE9HT1VUX1JFUVVFU1QiKS50aGVuKCgpID0+IHsKICAgICAgICBzdG9yZS5jb21taXQoJ3N0b3JlVXNlci9hZGRUb2FzdCcsIHsKICAgICAgICAgICdtZXNzYWdlJzogZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICdlcnJvcicsCiAgICAgICAgICAndmFyaWFudCc6ICdkYW5nZXInCiAgICAgICAgfSk7CiAgICAgICAgcm91dGVyLnB1c2goIi8iKTsKICAgICAgfSk7CiAgICB9CiAgICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXNwb25zZSBlcnJvcgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICB9KTsKICByZXR1cm4gaW5zdGFuY2U7Cn0pOw=="},{"version":3,"names":["axios","store","router","instance","create","baseURL","process","env","VUE_APP_API_URL","headers","interceptors","response","use","error","originalRequest","config","status","_retry","dispatch","then","commit","data","message","push","Promise","reject"],"sources":["/home/nmagnani/proyectos/cartoon-front/src/services/Api.js"],"sourcesContent":["import axios from 'axios'\nimport store from '@/store'\nimport router from '../router'\n\n\nexport default () => {\n\n\n    //console.log(process.env);\n\n    let instance = axios.create({\n        baseURL: process.env.VUE_APP_API_URL,\n        headers: {\n        }\n    })\n\n    instance.interceptors.response.use(\n        (response) => {\n            return response\n        },\n        function (error) {\n            let originalRequest = error.config\n            if (error.response.status === 401 || error.response.status === 403 && !originalRequest._retry) {\n                originalRequest._retry = true\n\n                store.dispatch(\"storeUser/LOGOUT_REQUEST\").then(() => {\n                    store.commit('storeUser/addToast',{\n                        'message': error.response.data.message || 'error',\n                        'variant': 'danger'  \n                    })\n                    router.push(\"/\");\n                })\n            }\n            // Do something with response error\n            return Promise.reject(error)\n        })\n\n\n    return instance\n\n\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,MAAM,WAAW;AAG9B,gBAAe,MAAM;EAGjB;;EAEA,IAAIC,QAAQ,GAAGH,KAAK,CAACI,MAAM,CAAC;IACxBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,eAAe;IACpCC,OAAO,EAAE,CACT;EACJ,CAAC,CAAC;EAEFN,QAAQ,CAACO,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC7BD,QAAQ,IAAK;IACV,OAAOA,QAAQ;EACnB,CAAC,EACD,UAAUE,KAAK,EAAE;IACb,IAAIC,eAAe,GAAGD,KAAK,CAACE,MAAM;IAClC,IAAIF,KAAK,CAACF,QAAQ,CAACK,MAAM,KAAK,GAAG,IAAIH,KAAK,CAACF,QAAQ,CAACK,MAAM,KAAK,GAAG,IAAI,CAACF,eAAe,CAACG,MAAM,EAAE;MAC3FH,eAAe,CAACG,MAAM,GAAG,IAAI;MAE7BhB,KAAK,CAACiB,QAAQ,CAAC,0BAA0B,CAAC,CAACC,IAAI,CAAC,MAAM;QAClDlB,KAAK,CAACmB,MAAM,CAAC,oBAAoB,EAAC;UAC9B,SAAS,EAAEP,KAAK,CAACF,QAAQ,CAACU,IAAI,CAACC,OAAO,IAAI,OAAO;UACjD,SAAS,EAAE;QACf,CAAC,CAAC;QACFpB,MAAM,CAACqB,IAAI,CAAC,GAAG,CAAC;MACpB,CAAC,CAAC;IACN;IACA;IACA,OAAOC,OAAO,CAACC,MAAM,CAACZ,KAAK,CAAC;EAChC,CAAC,CAAC;EAGN,OAAOV,QAAQ;AAGnB,CAAC"}]}