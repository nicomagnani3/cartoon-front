{"remainingRequest":"C:\\proyectos\\Cartoon\\SSLComercioBrandsenFRONT\\node_modules\\babel-loader\\lib\\index.js!C:\\proyectos\\Cartoon\\SSLComercioBrandsenFRONT\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\proyectos\\Cartoon\\SSLComercioBrandsenFRONT\\src\\services\\Api.js","dependencies":[{"path":"C:\\proyectos\\Cartoon\\SSLComercioBrandsenFRONT\\src\\services\\Api.js","mtime":1626737553269},{"path":"C:\\proyectos\\Cartoon\\SSLComercioBrandsenFRONT\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\proyectos\\Cartoon\\SSLComercioBrandsenFRONT\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\proyectos\\Cartoon\\SSLComercioBrandsenFRONT\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKCkgewogIC8vY29uc29sZS5sb2cocHJvY2Vzcy5lbnYpOwogIHZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsCiAgICBoZWFkZXJzOiB7fQogIH0pOwogIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICByZXR1cm4gcmVzcG9uc2U7CiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICB2YXIgb3JpZ2luYWxSZXF1ZXN0ID0gZXJyb3IuY29uZmlnOwoKICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSB8fCBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMyAmJiAhb3JpZ2luYWxSZXF1ZXN0Ll9yZXRyeSkgewogICAgICBvcmlnaW5hbFJlcXVlc3QuX3JldHJ5ID0gdHJ1ZTsKICAgICAgc3RvcmUuZGlzcGF0Y2goInN0b3JlVXNlci9MT0dPVVRfUkVRVUVTVCIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHN0b3JlLmNvbW1pdCgnc3RvcmVVc2VyL2FkZFRvYXN0JywgewogICAgICAgICAgJ21lc3NhZ2UnOiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgJ2Vycm9yJywKICAgICAgICAgICd2YXJpYW50JzogJ2RhbmdlcicKICAgICAgICB9KTsKICAgICAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgIH0pOwogICAgfSAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXNwb25zZSBlcnJvcgoKCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogIH0pOwogIHJldHVybiBpbnN0YW5jZTsKfSk7"},{"version":3,"sources":["C:/proyectos/Cartoon/SSLComercioBrandsenFRONT/src/services/Api.js"],"names":["axios","store","router","instance","create","baseURL","process","env","VUE_APP_API_URL","headers","interceptors","response","use","error","originalRequest","config","status","_retry","dispatch","then","commit","data","message","push","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAGA,gBAAe,YAAM;AAGjB;AAEA,MAAIC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;AACxBC,IAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,eADG;AAExBC,IAAAA,OAAO,EAAE;AAFe,GAAb,CAAf;AAMAN,EAAAA,QAAQ,CAACO,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,CACI,UAACD,QAAD,EAAc;AACV,WAAOA,QAAP;AACH,GAHL,EAII,UAAUE,KAAV,EAAiB;AACb,QAAIC,eAAe,GAAGD,KAAK,CAACE,MAA5B;;AACA,QAAIF,KAAK,CAACF,QAAN,CAAeK,MAAf,KAA0B,GAA1B,IAAiCH,KAAK,CAACF,QAAN,CAAeK,MAAf,KAA0B,GAA1B,IAAiC,CAACF,eAAe,CAACG,MAAvF,EAA+F;AAC3FH,MAAAA,eAAe,CAACG,MAAhB,GAAyB,IAAzB;AAEAhB,MAAAA,KAAK,CAACiB,QAAN,CAAe,0BAAf,EAA2CC,IAA3C,CAAgD,YAAM;AAClDlB,QAAAA,KAAK,CAACmB,MAAN,CAAa,oBAAb,EAAkC;AAC9B,qBAAWP,KAAK,CAACF,QAAN,CAAeU,IAAf,CAAoBC,OAApB,IAA+B,OADZ;AAE9B,qBAAW;AAFmB,SAAlC;AAIApB,QAAAA,MAAM,CAACqB,IAAP,CAAY,QAAZ;AACH,OAND;AAOH,KAZY,CAab;;;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeZ,KAAf,CAAP;AACH,GAnBL;AAsBA,SAAOV,QAAP;AAGH,CApCD","sourcesContent":["import axios from 'axios'\r\nimport store from '@/store'\r\nimport router from '../router'\r\n\r\n\r\nexport default () => {\r\n\r\n\r\n    //console.log(process.env);\r\n\r\n    let instance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_URL,\r\n        headers: {\r\n        }\r\n    })\r\n\r\n    instance.interceptors.response.use(\r\n        (response) => {\r\n            return response\r\n        },\r\n        function (error) {\r\n            let originalRequest = error.config\r\n            if (error.response.status === 401 || error.response.status === 403 && !originalRequest._retry) {\r\n                originalRequest._retry = true\r\n\r\n                store.dispatch(\"storeUser/LOGOUT_REQUEST\").then(() => {\r\n                    store.commit('storeUser/addToast',{\r\n                        'message': error.response.data.message || 'error',\r\n                        'variant': 'danger'  \r\n                    })\r\n                    router.push(\"/login\");\r\n                })\r\n            }\r\n            // Do something with response error\r\n            return Promise.reject(error)\r\n        })\r\n\r\n\r\n    return instance\r\n\r\n\r\n}"]}]}